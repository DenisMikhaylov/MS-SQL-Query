Лабораторная работа: Введение в запросы T-SQL

Упражнение 1: Выполнение базовых операторов SELECT
```
Задача 1: Подготовка лабораторной среды
1. Убедитесь, что виртуальные машины 20761C-MIA-DC и 20761C-MIA-SQL запущены, а затем войдите в систему 20761C-MIA-SQL
как ADVENTUREWORKS\Student с паролем Pa55w.rd.
2. В папке D:\Labfiles\Lab02\Starter щелкните правой кнопкой мыши Setup.cmd и выберите Запуск от имени администратора.
3. В диалоговом окне «Контроль учетных записей пользователей» щелкните Да и дождитесь завершения выполнения сценария.
4. Нажмите любую клавишу, чтобы закрыть командное окно.

Задача 2: Выполнение сценария T-SQL
1. На панели задач щелкните Microsoft SQL Server Management Studio.
2. В диалоговом окне «Подключение к серверу» в поле «Имя сервера» введите MIA-SQL, убедитесь, что выбрана проверка подлинности
Windows, а затем нажмите «Подключить».
3. В меню «Файл» выберите «Открыть», а затем нажмите «Проект/решение».
4. В диалоговом окне «Открыть проект» перейдите в папку D:\Labfiles\Lab02\Starter\Project, а затем дважды щелкните «Project.ssmssln».
5. В обозревателе решений разверните «Запросы», а затем дважды щелкните «51 - Лабораторная работа 1.sql».
6. Когда откроется окно запроса, нажмите «Выполнить». Вы заметите, что в поле «Доступные базы данных» выбрана база данных TSQL.
В поле «Доступные базы данных» отображается текущий контекст базы данных, в котором будет запущен скрипт T-SQL.
Эта информация также отображается в строке состояния.

Задача 3: Выполнить часть скрипта T-SQL
1. Выделите следующий текст под описанием задачи 2:
SELECT firstname
,lastname
,city
,country
FROM HR.Employees;

2. Щелкните Выполнить. Очень важно понимать, что вы можете выделить определенную часть кода внутри скрипта T-SQL и выполнить
только эту часть. Если вы нажмете Выполнить, не выбрав ни одной части кода, будет выполнен весь скрипт T-SQL. Если вы выделите
определенную часть кода по ошибке, SQL Server попытается выполнить только эту часть.
3. В меню Файл щелкните Закрыть.
4. Закройте SQL Server Management Studio, не сохраняя никаких изменений.
```
Упражнение 2: Выполнение запросов, фильтрующих данные с использованием предикатов
```
Задача 1: Выполнение скрипта T-SQL
1. На панели задач щелкните Microsoft SQL Server Management Studio.
2. В диалоговом окне «Подключение к серверу» в поле «Имя сервера» введите MIA-SQL и щелкните
Параметры.
3. На вкладке «Свойства подключения» в списке «Подключение к базе данных» убедитесь, что выбрано <default>,
а затем щелкните Подключиться.
4. В меню Файл выберите Открыть и щелкните Проект/Решение.
5. В диалоговом окне «Открыть проект» перейдите в папку D:\Labfiles\Lab02\Starter\Project и дважды щелкните Project.ssmssln.
6. В обозревателе решений разверните Запросы и дважды щелкните 61 - Лабораторное упражнение 2.sql.
7. На панели запросов щелкните Выполнить.
8. Обратите внимание, что вы получаете сообщение об ошибке:

Сообщение 208, уровень 16, состояние 1, строка 18
Недопустимое имя объекта «HR.Employees».
Как вы думаете, почему это произошло? Эта ошибка очень распространена, когда вы начинаете изучать T-SQL.

9. В сообщении говорится, что SQL Server не удалось найти объект HR.Employees. Это связано с тем, что
текущий контекст базы данных установлен на главную базу данных (посмотрите на поле Доступные базы данных,
 где отображается текущая база данных), но ИТ-отдел предоставил сценарии T-SQL для запуска в базе данных TSQL.
 Поэтому вам нужно изменить контекст базы данных с главной на TSQL. Вы узнаете, как изменить контекст базы данных в следующей задаче.

Задача 2: изменение контекста базы данных с помощью графического интерфейса
1. В списке Доступные базы данных щелкните TSQL, чтобы изменить контекст базы данных.
2. Щелкните Выполнить.
3. Обратите внимание, что результат оператора SELECT возвращает меньше строк, чем в упражнении 1. Это связано с тем,
что в предложении WHERE есть предикат для фильтрации всех строк, которые не имеют значения
USA в столбце страны. Только строки, для которых логическое выражение имеет значение TRUE, возвращаются фазой WHERE
в последующую фазу обработки логического запроса.

Задача 3: изменение контекста базы данных с помощью T-SQL
1. В скрипте 61 - Lab Exercise 2.sql найдите строки:
--USE TSQL;
--Go
2. Удалите первые два символа, чтобы строка выглядела так:
USE TSQL;
3. Удалив эти два символа, вы удалили знак комментария. Теперь строка не будет
игнорироваться SQL Server.
4. В меню Файл выберите Сохранить 61 - Lab Exercise 2.sql.
5. В диалоговом окне Сохранить файл как нажмите Сохранить.
6. В диалоговом окне Подтвердить сохранение как нажмите Да
7. В меню Файл нажмите Закрыть. Это закроет скрипт T-SQL.
8. В обозревателе решений дважды щелкните 61 - Lab Exercise 2.sql.
9. Нажмите Выполнить.
10. Посмотрите на результаты. Почему скрипт выполнился с
```
