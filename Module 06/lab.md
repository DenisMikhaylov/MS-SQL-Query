Лабораторная работа: использование DML для изменения данных

```
Сценарий
Вы разработчик базы данных для Adventure Works и вам нужно создать операторы DML для обновления данных в
базе данных для поддержки команды разработчиков веб-сайта. Команде нужны операторы T-SQL, которые они могут
использовать для выполнения обновлений данных на основе действий, выполняемых на веб-сайте. Вы предоставите шаблоны операторов DML, которые они могут изменять в соответствии со своими конкретными требованиями.
Цели
После завершения этой лабораторной работы вы сможете:
 Вставлять записи.
 Обновлять и удалять записи.
Расчетное время: 30 минут
Виртуальная машина: 20761C-MIA-SQL
Имя пользователя: ADVENTUREWORKS\STUDENT
Пароль: Pa55w.rd
```
Упражнение 1: Вставка записей с помощью DML
```
Сценарий
Вам нужно добавить нового сотрудника в таблицу TempDB.Hr.Employee и протестировать требуемый код T-SQL.
Затем вы можете передать код T-SQL веб-разработчикам системы управления персоналом, которые создают
веб-форму для упрощения этой задачи. Вы также хотите добавить всех потенциальных клиентов в таблицу Customers,
чтобы объединить эти записи.
Основные задачи для этого упражнения следующие:
1. Подготовка лабораторной среды
Упражнения будут выполняться в базе данных TempDB, чтобы никакие реальные данные не были затронуты. Для настройки среды для лаборатории используются два
скрипта — оба включены в проект для лаборатории, вместе с примером решения для каждого упражнения.
Если вам нужно начать заново, откройте и выполните сценарий очистки, а затем сценарий настройки; у вас есть
чистая среда, и вы можете попробовать еще раз.
2. Вставьте строку
3. Вставьте строку с оператором SELECT в качестве поставщика данных
```
```
 Задача 1: Подготовка лабораторной среды
Упражнения будут выполняться в базе данных TempDB, чтобы никакие реальные данные не были затронуты. Два
скрипта используются для настройки среды для лабораторной работы — оба включены в проект для лабораторной работы, вместе с
примером решения для каждого упражнения. Если вам нужно начать заново, откройте и выполните сценарий очистки,
а затем сценарий настройки; у вас чистая среда, и вы можете попробовать снова.
1. Убедитесь, что виртуальные машины 20761C-MIA-DC и 20761C-MIA-SQL обе запущены, а затем
войдите в 20761C-MIA-SQL как ADVENTUREWORKS\Student с паролем Pa55w.rd.
2. Запустите Setup.cmd в папке D:\Labfiles\Lab07\Starter как администратор.
 Задача 2: Вставить строку
1. Откройте файл проекта D:\Labfiles\Lab07\Starter\Project\Project.ssmssln и выполните запрос 01
setup.sql.
2. Напишите оператор INSERT для добавления записи в таблицу Employees в таблице TempDB.HR.Employees
со следующими значениями:
o Должность: торговый представитель
o Должность: г-н
o Имя: Лоренс
o Фамилия: Гридер
o Дата найма: 04/04/2013
o Дата рождения: 10/25/1975
o Адрес: 1234 1st Ave. S.E.
o Город: Сиэтл
o Страна: США
o Телефон: (206)555-0105
 Задача 3: Вставьте строку с оператором SELECT в качестве поставщика данных
 Напишите оператор INSERT для добавления всех записей из таблицы PotentialCustomers в таблицу Customers.
Результаты: После успешного выполнения этого упражнения у вас будет один новый сотрудник и три новых
клиента.
```

Упражнение 2: Обновление и удаление записей с использованием DML
```

Сценарий
Вы хотите обновить использование названий контактов в базе данных, чтобы они соответствовали наиболее часто используемому термину в
компании, что упрощает поиск. Вы также хотите удалить трех потенциальных
клиентов, которые были добавлены в таблицу Customers.
Основные задачи для этого упражнения следующие:
1. Обновление строк
2. Удаление строк
```
```
 Задача 1: Обновление строк
 Напишите оператор UPDATE, чтобы обновить все записи в таблице Customers, которые имеют город
«Берлин» и название контакта «Торговый представитель», чтобы название контакта было «Торговый консультант».
 Задача 2: Удаление строк
 Напишите оператор DELETE, чтобы удалить все записи в таблице PotentialCustomers, которые имеют
contactname «Taylor, Maurice», «Mallit, Ken» или «Tiano, Mike», поскольку эти записи теперь
добавлены в таблицу Customers
```
